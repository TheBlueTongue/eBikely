{% extends 'base.html' %}

{% block title %}Dashboard - eBikely{% endblock %}

{% block content %}
<div class="auth-container fade-in">
    <div class="auth-card slide-up">
        <div class="auth-header">
            <i class="fas fa-bicycle auth-icon"></i>
            <h1>Welcome Back, {{ current_user.username }}</h1>
            <p class="subtitle">Manage your e-bikes, test progress, and parking</p>
        </div>

        <div class="auth-form">
            <h2>Your E-Bikes</h2>
            {% if ebikes %}
                <ul>
                {% for ebike in ebikes %}
                    <li>{{ ebike.model }} ({{ ebike.colour }}) - Serial: {{ ebike.serial_number }}</li>
                {% endfor %}
                </ul>
            {% else %}
                <p>You have no registered e-bikes. <a href="{{ url_for('ebike_management') }}">Register one now</a>.</p>
            {% endif %}

            <h2>Your Practice Tests</h2>
            {% if practice_tests %}
                <ul>
                {% for test in practice_tests %}
                    <li>{{ test.name }} - {{ test.description }}</li>
                {% endfor %}
                </ul>
            {% else %}
                <p>No practice tests available. <a href="{{ url_for('practice_selection') }}">Take a test now</a>.</p>
            {% endif %}

            <h2>Available Parking Spots</h2>
            <p>{{ available_parking_spots }} spots available</p>
        </div>
    </div>
</div>

<style>
.auth-container {
    min-height: 100vh;
    padding: 2rem;
    background: linear-gradient(135deg, #004e92 0%, #000428 100%);
    display: flex;
    align-items: center;
    justify-content: center;
}

.auth-card {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(10px);
    padding: 2rem;
    border-radius: 15px;
    width: 100%;
    max-width: 600px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.auth-header {
    text-align: center;
    margin-bottom: 2rem;
    color: white;
}

.auth-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: #00c6ff;
}

.auth-header h1 {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
}

.auth-header .subtitle {
    opacity: 0.9;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
}

.auth-form {
    color: white;
}

.auth-form ul {
    list-style: none;
    padding: 0;
    margin-bottom: 1.5rem;
}

.auth-form li {
    background: rgba(255, 255, 255, 0.15);
    padding: 0.8rem 1.2rem;
    border-radius: 10px;
    margin-bottom: 0.8rem;
    color: white;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.auth-form a {
    color: #00c6ff;
    text-decoration: none;
    font-weight: bold;
}

.auth-form a:hover {
    color: #0072ff;
}
</style>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
{% endblock %}

