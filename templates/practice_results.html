{% extends 'base.html' %}

{% block content %}
  <div class="container mt-4">
    <h2>Practice Quiz Results</h2>
    <p>Your score: {{ score }} / {{ feedback|length }}</p>

    <hr>

    {% for question_id, result in feedback.items() %}
      <div class="card mb-3 {% if result.is_correct %}border-success{% else %}border-danger{% endif %}">
        <div class="card-body">
          <h5 class="card-title">{{ result.question_text }}</h5>
          <ul class="list-group list-group-flush">
            {% for label, option in result.options.items() %}
              <li class="list-group-item
                         {% if result.is_correct and label == result.correct_answer %}
                            list-group-item-success
                         {% elif not result.is_correct and label == result.correct_answer %}
                            list-group-item-danger
                         {% elif not result.is_correct and label == result.user_answer %}
                            list-group-item-warning
                         {% endif %}">
                <strong>{{ label }}:</strong> {{ option }}
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    {% endfor %}

    <a href="{{ url_for('dashboard') }}" class="btn btn-primary">Back to Dashboard</a>
  </div>
{% endblock %}

