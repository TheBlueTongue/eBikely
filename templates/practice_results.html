{% extends 'base.html' %}

{% block content %}
  <div class="container mt-4">
    <h2>Practice Quiz Results</h2>
    <p>Your score: {{ score }} / {{ feedback|length }}</p>

    <hr>

    {% for question_id, result in feedback.items() %}
      <div class="card mb-3 {% if result.is_correct %}border-success{% else %}border-danger{% endif %}">
        <div class="card-body">
          <h5 class="card-title">{{ result.question_text }}</h5>
            <ul class="list-group list-group-flush">
              {% for label, option in result.options.items() %}
                <li class="list-group-item
                          {% if label == result.correct_answer %}list-group-item-success{% endif %}
                          {% if label == result.user_answer and not result.is_correct %}list-group-item-danger{% endif %}">
                  <strong>{{ label }}:</strong> {{ option }}
                </li>
              {% endfor %}
            </ul>

            {% if not result.is_correct %}
              <p class="mt-2 mb-0 text-danger">
                <strong>Correct answer:</strong> {{ result.correct_answer }} â€” {{ result.options[result.correct_answer] }}
              </p>
            {% endif %}

        </div>
      </div>
    {% endfor %}

    <a href="{{ url_for('dashboard') }}" class="btn btn-primary">Back to Dashboard</a>
  </div>
{% endblock %}
